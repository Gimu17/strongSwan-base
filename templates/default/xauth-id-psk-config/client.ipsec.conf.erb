# ipsec.conf - strongSwan IPsec configuration file

# basic configuration

config setup
    # nat_traversal=<%= node[:strongswan][:server][:tunable][:ipsec][:natt] %>
    
conn %default
    ikelifetime=60m
    keylife=20m
    rekeymargin=3m
    keyingtries=1
    keyexchange=<%= node[:strongswan][:server][:tunable][:ipsec][:keyexchange] %>
    ike=<%= node[:strongswan][:client][:tunable][:ipsec][:ike] %>
    esp=<%= node[:strongswan][:client][:tunable][:ipsec][:esp] %>
    pfs=no

conn client
    left=<%= node[:strongswan][:client][:tunable][:ipsec][:left][:left] %>
    leftid=<%= node[:strongswan][:client][:tunable][:ipsec][:left][:id] %>
    leftsubnet=<%= node[:strongswan][:client][:tunable][:ipsec][:left][:subnet] %>
    leftauth=<%= node[:strongswan][:client][:tunable][:ipsec][:left][:leftauth] %>
    leftfirewall=yes
    right=<%= node[:strongswan][:client][:tunable][:ipsec][:right][:right] %>
    rightsourceip=<%= node[:strongswan][:client][:tunable][:ipsec][:right][:right] %>
    rightauth=<%= node[:strongswan][:client][:tunable][:ipsec][:right][:rightauth] %>
    rightauth2=<%= node[:strongswan][:client][:tunable][:ipsec][:right][:rightauth2] %>
    auto=add

# Add connections here.

# include /var/lib/strongswan/ipsec.conf.inc
